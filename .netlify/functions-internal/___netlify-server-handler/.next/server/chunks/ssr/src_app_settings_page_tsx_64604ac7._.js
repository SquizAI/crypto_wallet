module.exports=[20788,a=>{"use strict";a.s(["default",()=>p,"dynamic",()=>o],20788);var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(50832);a.i(24392),a.i(61826);var f=a.i(94101);a.i(59510),a.i(47490);var g=a.i(96438),h=a.i(78354),i=a.i(31419),j=a.i(48313),k=a.i(99563),l=a.i(90036),m=a.i(57527),n=a.i(99094);let o="force-dynamic";function p(){let a=(0,d.useRouter)(),{address:o,lock:p,timeoutPreference:q,setTimeoutPreference:r}=(0,e.useWallet)(),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(null),[A,B]=(0,c.useState)(null),[C,D]=(0,c.useState)(!1),[E,F]=(0,c.useState)("Never"),[G,H]=(0,c.useState)(!1);if((0,c.useEffect)(()=>{t(!0);let a=(0,n.getBackupStatus)();a&&(H(a.hasBackedUp),F((0,n.getTimeSinceLastBackup)()))},[]),!s)return null;let I="hd"===(0,f.getWalletType)(),J=async()=>{if(!w)return void B("Password is required");B(null),D(!0);try{let a=await (0,f.exportPrivateKey)(w);z(a),x("")}catch(a){B(a instanceof Error?a.message:"Failed to export private key")}finally{D(!1)}},K=async()=>{if(!w)return void B("Password is required");B(null),D(!0);try{let a=await (0,f.exportMnemonic)(w);z(a),x("")}catch(a){B(a instanceof Error?a.message:"Failed to export recovery phrase")}finally{D(!1)}},L=async()=>{if(!w)return void B("Password is required");B(null),D(!0);try{let a=await (0,f.exportWalletToFile)(w),b=URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download=`stablecoin-wallet-backup-${Date.now()}.json`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(b),x(""),N(),H(!0),F((0,n.getTimeSinceLastBackup)()),alert("Wallet backup file downloaded successfully! Keep this file secure.")}catch(a){B(a instanceof Error?a.message:"Failed to export wallet")}finally{D(!1)}},M=async()=>{if(!w)return void B("Password is required to delete wallet");B(null),D(!0);try{await (0,f.exportPrivateKey)(w),(0,f.deleteWallet)(),p(),a.push("/onboarding")}catch(a){B(a instanceof Error?a.message:"Failed to delete wallet"),D(!1)}},N=()=>{v(null),x(""),z(null),B(null)},O=async a=>{try{await navigator.clipboard.writeText(a),alert("Copied to clipboard!")}catch(a){console.error("Failed to copy:",a)}};return(0,b.jsx)("div",{className:"min-h-screen p-4 sm:p-6",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto space-y-4 sm:space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-2",children:"Settings"}),(0,b.jsx)("p",{className:"text-sm sm:text-base text-gray-400",children:"Manage your wallet and security settings"})]}),(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-4 sm:p-6 border border-white/10",children:[(0,b.jsx)("h2",{className:"text-lg sm:text-xl font-semibold text-white mb-3 sm:mb-4",children:"Appearance"}),(0,b.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:"Customize the app appearance"}),(0,b.jsx)(k.ThemeToggle,{showLabel:!0})]}),(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-4 sm:p-6 border border-white/10",children:[(0,b.jsx)("h2",{className:"text-lg sm:text-xl font-semibold text-white mb-3 sm:mb-4",children:"Wallet Information"}),(0,b.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 py-3 border-b border-white/10",children:[(0,b.jsx)("span",{className:"text-sm sm:text-base text-gray-400",children:"Wallet Address"}),(0,b.jsxs)("button",{onClick:()=>o&&O(o),className:"font-mono text-sm text-white hover:text-blue-400 transition-colors text-left sm:text-right break-all touch-manipulation",children:[(0,b.jsxs)("span",{className:"sm:hidden",children:[o?.slice(0,8),"...",o?.slice(-6)]}),(0,b.jsxs)("span",{className:"hidden sm:inline",children:[o?.slice(0,10),"...",o?.slice(-8)]})]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center py-3 border-b border-white/10",children:[(0,b.jsx)("span",{className:"text-sm sm:text-base text-gray-400",children:"Wallet Type"}),(0,b.jsx)("span",{className:"text-sm sm:text-base text-white",children:I?"HD Wallet":"Imported"})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center py-3 border-b border-white/10",children:[(0,b.jsx)("span",{className:"text-sm sm:text-base text-gray-400",children:"Network"}),(0,b.jsx)("span",{className:"text-sm sm:text-base text-white capitalize",children:l.env.NEXT_PUBLIC_NETWORK})]})]})]}),(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-4 sm:p-6 border border-white/10",children:[(0,b.jsx)("h2",{className:"text-lg sm:text-xl font-semibold text-white mb-3 sm:mb-4",children:"Session Timeout"}),(0,b.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:"Automatically lock wallet after period of inactivity"}),(0,b.jsx)("div",{className:"space-y-2",children:Object.keys(m.TIMEOUT_OPTIONS).map(a=>(0,b.jsxs)("button",{onClick:()=>r(a),className:`w-full flex items-center justify-between p-3 sm:p-4 rounded-xl border transition-all touch-manipulation ${q===a?"bg-blue-500/20 border-blue-500/50":"bg-white/5 border-white/10 hover:bg-white/10 active:bg-white/15"}`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,b.jsx)("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center shrink-0 ${q===a?"border-blue-500":"border-gray-400"}`,children:q===a&&(0,b.jsx)("div",{className:"w-3 h-3 rounded-full bg-blue-500"})}),(0,b.jsxs)("div",{className:"text-left",children:[(0,b.jsx)("p",{className:"text-sm sm:text-base text-white font-medium",children:(0,m.getTimeoutLabel)(a)}),"never"!==a&&(0,b.jsxs)("p",{className:"text-xs text-gray-400",children:["Lock after ",(0,m.getTimeoutLabel)(a).toLowerCase()," of inactivity"]}),"never"===a&&(0,b.jsx)("p",{className:"text-xs text-gray-400",children:"Wallet will remain unlocked (not recommended)"})]})]}),q===a&&(0,b.jsx)("svg",{className:"w-5 h-5 text-blue-500 shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},a))}),"never"!==q&&(0,b.jsx)(i.Alert,{variant:"info",className:"mt-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)("svg",{className:"w-5 h-5 text-blue-400 shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,b.jsx)("p",{className:"text-sm text-gray-300",children:"You will receive a warning 30 seconds before auto-lock. Any activity resets the timer."})]})})]}),(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-4 sm:p-6 border border-white/10",children:[(0,b.jsx)("h2",{className:"text-lg sm:text-xl font-semibold text-white mb-3 sm:mb-4",children:"Security & Backup"}),(0,b.jsxs)("div",{className:"mb-4 p-4 rounded-xl border bg-white/5 border-white/10",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-gray-400",children:"Backup Status"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:`w-2 h-2 rounded-full ${G?"bg-green-500":"bg-yellow-500"}`}),(0,b.jsx)("span",{className:`text-sm font-semibold ${G?"text-green-400":"text-yellow-400"}`,children:G?"Backed Up":"Not Backed Up"})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-gray-400",children:"Last Backup"}),(0,b.jsx)("span",{className:"text-sm text-white",children:E})]}),!G&&(0,b.jsx)(i.Alert,{variant:"warning",className:"mt-3",children:(0,b.jsx)("p",{className:"text-xs",children:"Your wallet has not been backed up. Export a backup file to protect your funds."})})]}),(0,b.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[(0,b.jsxs)("button",{onClick:()=>v("export-wallet"),className:"w-full flex items-center justify-between p-3 sm:p-4 rounded-xl bg-white/5 hover:bg-white/10 active:bg-white/15 border border-white/10 transition-all touch-manipulation",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,b.jsx)("div",{className:"w-9 h-9 sm:w-10 sm:h-10 rounded-lg bg-blue-500/20 flex items-center justify-center shrink-0",children:(0,b.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}),(0,b.jsxs)("div",{className:"text-left",children:[(0,b.jsx)("p",{className:"text-sm sm:text-base text-white font-medium",children:"Export Wallet Backup"}),(0,b.jsx)("p",{className:"text-xs sm:text-sm text-gray-400",children:"Download encrypted backup file"})]})]}),(0,b.jsx)("svg",{className:"w-5 h-5 text-gray-400 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),(0,b.jsxs)("button",{onClick:()=>v("export-key"),className:"w-full flex items-center justify-between p-3 sm:p-4 rounded-xl bg-white/5 hover:bg-white/10 active:bg-white/15 border border-white/10 transition-all touch-manipulation",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,b.jsx)("div",{className:"w-9 h-9 sm:w-10 sm:h-10 rounded-lg bg-yellow-500/20 flex items-center justify-center shrink-0",children:(0,b.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}),(0,b.jsxs)("div",{className:"text-left",children:[(0,b.jsx)("p",{className:"text-sm sm:text-base text-white font-medium",children:"Export Private Key"}),(0,b.jsx)("p",{className:"text-xs sm:text-sm text-gray-400",children:"View your private key"})]})]}),(0,b.jsx)("svg",{className:"w-5 h-5 text-gray-400 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),I&&(0,b.jsxs)("button",{onClick:()=>v("export-mnemonic"),className:"w-full flex items-center justify-between p-3 sm:p-4 rounded-xl bg-white/5 hover:bg-white/10 active:bg-white/15 border border-white/10 transition-all touch-manipulation",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,b.jsx)("div",{className:"w-9 h-9 sm:w-10 sm:h-10 rounded-lg bg-green-500/20 flex items-center justify-center shrink-0",children:(0,b.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,b.jsxs)("div",{className:"text-left",children:[(0,b.jsx)("p",{className:"text-sm sm:text-base text-white font-medium",children:"Export Recovery Phrase"}),(0,b.jsx)("p",{className:"text-xs sm:text-sm text-gray-400",children:"View your 12-word recovery phrase"})]})]}),(0,b.jsx)("svg",{className:"w-5 h-5 text-gray-400 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-4 sm:p-6 border border-red-500/30",children:[(0,b.jsx)("h2",{className:"text-lg sm:text-xl font-semibold text-red-400 mb-3 sm:mb-4",children:"Danger Zone"}),(0,b.jsxs)("button",{onClick:()=>v("delete-wallet"),className:"w-full flex items-center justify-between p-3 sm:p-4 rounded-xl bg-red-500/10 hover:bg-red-500/20 active:bg-red-500/25 border border-red-500/30 transition-all touch-manipulation",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,b.jsx)("div",{className:"w-9 h-9 sm:w-10 sm:h-10 rounded-lg bg-red-500/20 flex items-center justify-center shrink-0",children:(0,b.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),(0,b.jsxs)("div",{className:"text-left",children:[(0,b.jsx)("p",{className:"text-sm sm:text-base text-white font-medium",children:"Delete Wallet"}),(0,b.jsx)("p",{className:"text-xs sm:text-sm text-gray-400",children:"Permanently remove this wallet"})]})]}),(0,b.jsx)("svg",{className:"w-5 h-5 text-gray-400 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),(0,b.jsx)(j.Modal,{isOpen:"export-key"===u,onClose:N,title:"Export Private Key",children:y?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.Alert,{variant:"warning",children:"Copy your private key and store it securely. Do not share it with anyone."}),(0,b.jsx)("div",{className:"mt-4 p-4 rounded-xl bg-black/50 border border-white/10 break-all font-mono text-sm text-white",children:y}),(0,b.jsxs)(j.ModalFooter,{children:[(0,b.jsx)(g.Button,{variant:"secondary",onClick:N,children:"Close"}),(0,b.jsx)(g.Button,{onClick:()=>O(y),children:"Copy to Clipboard"})]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.Alert,{variant:"warning",children:"Never share your private key with anyone. Anyone with your private key can access your funds."}),(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Enter Password"}),(0,b.jsx)(h.PasswordInput,{value:w,onChange:a=>{x(a.target.value),B(null)},placeholder:"Wallet password",autoFocus:!0})]}),A&&(0,b.jsx)(i.Alert,{variant:"error",className:"mt-4",children:A}),(0,b.jsxs)(j.ModalFooter,{children:[(0,b.jsx)(g.Button,{variant:"secondary",onClick:N,children:"Cancel"}),(0,b.jsx)(g.Button,{onClick:J,loading:C,children:"Export"})]})]})}),(0,b.jsx)(j.Modal,{isOpen:"export-mnemonic"===u,onClose:N,title:"Export Recovery Phrase",children:y?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.Alert,{variant:"warning",children:"Write down these words in order and store them securely."}),(0,b.jsx)("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-3 gap-2",children:y.split(" ").map((a,c)=>(0,b.jsxs)("div",{className:"p-2 sm:p-3 rounded-lg bg-white/5 border border-white/10 text-center",children:[(0,b.jsxs)("span",{className:"text-xs text-gray-500",children:[c+1,"."]})," ",(0,b.jsx)("span",{className:"text-sm sm:text-base text-white font-medium",children:a})]},c))}),(0,b.jsxs)(j.ModalFooter,{children:[(0,b.jsx)(g.Button,{variant:"secondary",onClick:N,children:"Close"}),(0,b.jsx)(g.Button,{onClick:()=>O(y),children:"Copy to Clipboard"})]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.Alert,{variant:"warning",children:"Never share your recovery phrase. Anyone with it can access your wallet."}),(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Enter Password"}),(0,b.jsx)(h.PasswordInput,{value:w,onChange:a=>{x(a.target.value),B(null)},placeholder:"Wallet password",autoFocus:!0})]}),A&&(0,b.jsx)(i.Alert,{variant:"error",className:"mt-4",children:A}),(0,b.jsxs)(j.ModalFooter,{children:[(0,b.jsx)(g.Button,{variant:"secondary",onClick:N,children:"Cancel"}),(0,b.jsx)(g.Button,{onClick:K,loading:C,children:"Export"})]})]})}),(0,b.jsxs)(j.Modal,{isOpen:"export-wallet"===u,onClose:N,title:"Export Wallet Backup",children:[(0,b.jsx)(i.Alert,{variant:"warning",children:"This will download an encrypted backup file of your wallet. Keep this file secure and use the same password to restore it later."}),(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Enter Password"}),(0,b.jsx)(h.PasswordInput,{value:w,onChange:a=>{x(a.target.value),B(null)},placeholder:"Wallet password",autoFocus:!0})]}),(0,b.jsx)("div",{className:"mt-4 p-3 rounded-lg bg-white/5 border border-white/10",children:(0,b.jsxs)("p",{className:"text-xs text-gray-300",children:[(0,b.jsx)("strong",{children:"Backup includes:"}),(0,b.jsx)("br",{}),"- Encrypted private key",(0,b.jsx)("br",{}),"- Encrypted recovery phrase (if available)",(0,b.jsx)("br",{}),"- Wallet address and metadata"]})}),A&&(0,b.jsx)(i.Alert,{variant:"error",className:"mt-4",children:A}),(0,b.jsxs)(j.ModalFooter,{children:[(0,b.jsx)(g.Button,{variant:"secondary",onClick:N,children:"Cancel"}),(0,b.jsx)(g.Button,{onClick:L,loading:C,children:"Download Backup"})]})]}),(0,b.jsxs)(j.Modal,{isOpen:"delete-wallet"===u,onClose:N,title:"Delete Wallet",children:[(0,b.jsx)(i.Alert,{variant:"error",children:"This action cannot be undone. Make sure you have backed up your private key or recovery phrase before deleting."}),(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Enter Password to Confirm"}),(0,b.jsx)(h.PasswordInput,{value:w,onChange:a=>{x(a.target.value),B(null)},placeholder:"Wallet password",autoFocus:!0})]}),A&&(0,b.jsx)(i.Alert,{variant:"error",className:"mt-4",children:A}),(0,b.jsxs)(j.ModalFooter,{children:[(0,b.jsx)(g.Button,{variant:"secondary",onClick:N,children:"Cancel"}),(0,b.jsx)(g.Button,{variant:"danger",onClick:M,loading:C,children:"Delete Wallet"})]})]})]})})}}];

//# sourceMappingURL=src_app_settings_page_tsx_64604ac7._.js.map