module.exports=[47490,a=>{"use strict";a.s(["getPendingTransactions",()=>p,"getStoredTransactionHistory",()=>l,"recheckPendingTransactions",()=>q,"trackTransaction",()=>o]);var b=a.i(47703),c=a.i(90036),d=a.i(66716),e=a.i(61826);let f=null;function g(){return f||(f=new b.JsonRpcProvider(c.env.NEXT_PUBLIC_RPC_URL)),f}let h=new Map;async function i(a,b=1,c=3e5){let e=g();try{let f=new Promise((b,e)=>{setTimeout(()=>{e(new d.TransactionError(`Transaction confirmation timeout after ${c}ms`,"TIMEOUT",a))},c)}),g=await Promise.race([e.waitForTransaction(a,b),f]);if(!g)throw new d.TransactionError("Transaction receipt not found","UNKNOWN_ERROR",a);if(0===g.status)throw new d.TransactionError("Transaction reverted","REVERTED",a);return g}catch(b){if(b instanceof d.TransactionError)throw b;throw new d.TransactionError(`Failed to wait for transaction: ${b instanceof Error?b.message:"Unknown error"}`,"NETWORK_ERROR",a,b)}}async function j(a){try{let b=g();return await b.getTransactionReceipt(a)}catch(b){throw new d.TransactionError(`Failed to fetch transaction receipt: ${b instanceof Error?b.message:"Unknown error"}`,"NETWORK_ERROR",a,b)}}async function k(a){try{(0,e.addTransaction)(a)}catch(b){throw new d.TransactionError(`Failed to save transaction: ${b instanceof Error?b.message:"Unknown error"}`,"UNKNOWN_ERROR",a.hash,b)}}function l(){return(0,e.getTransactionHistory)()}async function m(a,b,c){try{let d={status:b};if(c){d.blockNumber=c.blockNumber,d.gasUsed=c.gasUsed.toString(),d.gasPrice=c.gasPrice?.toString()||null;let a=g(),b=await a.getBlock(c.blockNumber);b&&(d.timestamp=new Date(1e3*b.timestamp).toISOString())}"failed"===b&&c?.status===0&&(d.error="Transaction reverted"),(0,e.updateTransaction)(a,d)}catch(b){throw new d.TransactionError(`Failed to update transaction status: ${b instanceof Error?b.message:"Unknown error"}`,"UNKNOWN_ERROR",a,b)}}async function n(a){let{hash:b,transaction:c,confirmations:e=1,onConfirmed:f,onFailed:g,onUpdate:k}=a,l=h.get(b);l&&clearInterval(l);let n=!0;(async()=>{try{k?.("pending");let a=await i(b,e);if(!n)return;await m(b,"confirmed",a),k?.("confirmed",a),f?.(a)}catch(c){if(!n)return;await m(b,"failed");let a=c instanceof d.TransactionError?c:new d.TransactionError(c instanceof Error?c.message:"Unknown error","UNKNOWN_ERROR",b);k?.("failed"),g?.(a)}finally{h.delete(b)}})();let o=setInterval(async()=>{if(!n)return void clearInterval(o);try{await j(b)&&clearInterval(o)}catch(a){console.error("Polling error:",a)}},5e3);return h.set(b,o),()=>{n=!1;let a=h.get(b);a&&(clearInterval(a),h.delete(b))}}async function o(a,b,c,d,e="send",f){let g=function(a,b,c,d,e="send"){return{hash:a.hash,from:a.from,to:a.to,value:a.value.toString(),tokenAddress:b,tokenSymbol:c,tokenDecimals:d,status:"pending",type:e,blockNumber:null,timestamp:null,gasUsed:null,gasPrice:a.gasPrice?.toString()||null,chainId:Number(a.chainId)}}(a,b,c,d,e);return await k(g),n({hash:a.hash,transaction:a,confirmations:1,onConfirmed:f?.onConfirmed,onFailed:f?.onFailed,onUpdate:f?.onUpdate})}function p(){return(0,e.getTransactionHistory)().filter(a=>"pending"===a.status)}async function q(){let a=p(),b=0;for(let c of a)try{let a=await j(c.hash);if(a){let d=1===a.status?"confirmed":"failed";await m(c.hash,d,a),b++}}catch(a){console.error(`Failed to recheck transaction ${c.hash}:`,a)}return b}},93292,a=>{"use strict";a.s(["useTransactionHistory",()=>g]);var b=a.i(33217),c=a.i(37927),d=a.i(72131),e=a.i(50832),f=a.i(47490);function g(a={}){let{address:h,isUnlocked:i}=(0,e.useWallet)(),j=(0,c.useQueryClient)(),{statusFilter:k,typeFilter:l,limit:m,enabled:n=!0,refetchInterval:o,queryOptions:p}=a;(0,d.useEffect)(()=>{i&&h&&(0,f.recheckPendingTransactions)().then(a=>{a>0&&(console.log(`Updated ${a} pending transactions`),j.invalidateQueries({queryKey:["transactions",h]}),j.invalidateQueries({queryKey:["balance",h]}),j.invalidateQueries({queryKey:["balances",h]}))}).catch(a=>{console.error("Failed to recheck pending transactions:",a)})},[i,h,j]);let q=(0,f.getPendingTransactions)().length>0;return(0,b.useQuery)({queryKey:["transactions",h,k,l,m],queryFn:async()=>{let a=(0,f.getStoredTransactionHistory)();return h&&(a=a.filter(a=>a.from.toLowerCase()===h.toLowerCase()||a.to?.toLowerCase()===h.toLowerCase())),k&&(a=a.filter(a=>a.status===k)),l&&(a=a.filter(a=>a.type===l)),a=a.sort((a,b)=>{if("pending"===a.status&&"pending"!==b.status)return -1;if("pending"===b.status&&"pending"!==a.status)return 1;let c=a.timestamp?new Date(a.timestamp).getTime():0;return(b.timestamp?new Date(b.timestamp).getTime():0)-c}),m&&(a=a.slice(0,m)),a},enabled:n&&i,refetchInterval:void 0!==o?o:!!q&&3e4,staleTime:1e4,gcTime:3e5,refetchOnWindowFocus:!0,...p})}},26516,3508,76865,97180,a=>{"use strict";a.s(["PortfolioValue",()=>c],26516);var b=a.i(87924);function c({totalValue:a,change24h:c=2.45,isLoading:d=!1,onSendClick:e,onReceiveClick:f}){return(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-8 fade-in",children:[(0,b.jsx)("h2",{className:"text-sm font-medium text-gray-400 mb-4",children:"Total Portfolio Value"}),d?(0,b.jsx)("div",{className:"h-16 w-64 bg-gray-800/50 rounded-lg animate-pulse mb-4"}):(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsxs)("div",{className:"text-6xl font-bold holographic-shimmer mb-2",children:["$",a.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-5 h-5 text-emerald-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),(0,b.jsxs)("span",{className:"text-emerald-400 font-semibold text-lg",children:["+",c.toFixed(2),"%"]}),(0,b.jsx)("span",{className:"text-gray-500 text-sm",children:"24h"})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:e,className:" flex-1 px-6 py-3 rounded-xl bg-electric-blue text-white font-semibold transition-all duration-300 ease-out hover:shadow-[0_0_30px_rgba(59,130,246,0.5)] hover:scale-[1.02] active:scale-[0.98] ",style:{backgroundColor:"var(--electric-blue)"},children:(0,b.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),"Send"]})}),(0,b.jsx)("button",{onClick:f,className:" flex-1 px-6 py-3 rounded-xl bg-white/5 text-white font-semibold border border-white/10 transition-all duration-300 ease-out hover:bg-white/10 hover:border-white/20 hover:shadow-[0_0_20px_rgba(255,255,255,0.1)] hover:scale-[1.02] active:scale-[0.98] ",children:(0,b.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m0 0l-4-4m4 4l4-4"})}),"Receive"]})})]})]})}a.s(["PerformanceChart",()=>e],3508);var d=a.i(72131);function e({className:a=""}){let[c,e]=(0,d.useState)("1W");return(0,b.jsxs)("div",{className:`glass-card rounded-2xl p-8 fade-in ${a}`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Performance"}),(0,b.jsx)("div",{className:"flex gap-1 bg-white/5 rounded-lg p-1",children:["1H","1D","1W","1M","1Y"].map(a=>(0,b.jsx)("button",{onClick:()=>e(a),className:`
                px-3 py-1.5 rounded-md text-sm font-medium
                transition-all duration-300 ease-out
                ${c===a?"bg-electric-blue text-white shadow-[0_0_20px_rgba(59,130,246,0.5)]":"text-gray-400 hover:text-white hover:bg-white/5"}
              `,style:c===a?{backgroundColor:"var(--electric-blue)"}:{},children:a},a))})]}),(0,b.jsxs)("div",{className:"relative h-64 bg-gradient-to-br from-white/5 to-transparent rounded-xl p-6 overflow-hidden",children:[(0,b.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 400 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,b.jsxs)("defs",{children:[(0,b.jsxs)("linearGradient",{id:"chartGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,b.jsx)("stop",{offset:"0%",stopColor:"#10b981",stopOpacity:"0.8"}),(0,b.jsx)("stop",{offset:"50%",stopColor:"#06b6d4",stopOpacity:"0.8"}),(0,b.jsx)("stop",{offset:"100%",stopColor:"#3b82f6",stopOpacity:"0.8"})]}),(0,b.jsxs)("linearGradient",{id:"chartFill",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,b.jsx)("stop",{offset:"0%",stopColor:"#10b981",stopOpacity:"0.3"}),(0,b.jsx)("stop",{offset:"100%",stopColor:"#10b981",stopOpacity:"0.0"})]})]}),(0,b.jsx)("path",{d:"M 0 150 Q 50 120, 100 130 T 200 100 T 300 80 T 400 60",stroke:"url(#chartGradient)",strokeWidth:"3",fill:"none",className:"drop-shadow-[0_0_10px_rgba(16,185,129,0.5)]"}),(0,b.jsx)("path",{d:"M 0 150 Q 50 120, 100 130 T 200 100 T 300 80 T 400 60 L 400 200 L 0 200 Z",fill:"url(#chartFill)"}),(0,b.jsx)("circle",{cx:"400",cy:"60",r:"6",fill:"#3b82f6",className:"pulse-gentle drop-shadow-[0_0_15px_rgba(59,130,246,0.8)]"})]}),(0,b.jsx)("div",{className:"absolute inset-0 pointer-events-none",children:(0,b.jsx)("div",{className:"w-full h-full grid grid-rows-4 gap-0",children:[void 0,void 0,void 0,void 0].map((a,c)=>(0,b.jsx)("div",{className:"border-b border-white/5"},c))})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4 mt-6 pt-6 border-t border-white/10",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"High"}),(0,b.jsx)("div",{className:"text-lg font-semibold text-emerald-400",children:"$1,245.67"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Low"}),(0,b.jsx)("div",{className:"text-lg font-semibold text-gray-300",children:"$1,189.23"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Volume"}),(0,b.jsx)("div",{className:"text-lg font-semibold text-blue-400",children:"$45.2K"})]})]})]})}function f({assets:a,isLoading:c=!1,onTokenClick:d}){let e={USDC:"#2775CA",USDT:"#26A17B",DAI:"#F5AC37"};return c?(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-6 fade-in",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Your Assets"}),(0,b.jsx)("div",{className:"space-y-3",children:[1,2,3].map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-3 animate-pulse",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-gray-700/50 rounded-full"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"h-4 w-16 bg-gray-700/50 rounded mb-2"}),(0,b.jsx)("div",{className:"h-3 w-24 bg-gray-700/50 rounded"})]}),(0,b.jsx)("div",{className:"h-4 w-20 bg-gray-700/50 rounded"})]},a))})]}):(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-6 fade-in",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Your Assets"}),(0,b.jsx)("div",{className:"space-y-3 max-h-80 overflow-y-auto pr-2 custom-scrollbar",children:a.map(a=>(0,b.jsxs)("button",{onClick:()=>d?.(a.symbol),className:" w-full flex items-center gap-3 p-3 rounded-xl bg-white/5 border border-white/10 transition-all duration-300 ease-out hover:bg-white/10 hover:border-white/20 hover:transform hover:scale-[1.02] active:scale-[0.98] ",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold shadow-lg",style:{backgroundColor:e[a.symbol]||"#666"},children:a.symbol.charAt(0)}),(0,b.jsxs)("div",{className:"flex-1 text-left",children:[(0,b.jsx)("div",{className:"font-semibold text-white",children:a.symbol}),(0,b.jsx)("div",{className:"text-sm text-gray-400",children:a.name})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("div",{className:"font-semibold text-white",children:a.balance}),(0,b.jsxs)("div",{className:"text-sm text-gray-400",children:["$",a.usdValue]})]})]},a.symbol))})]})}function g({transactions:a,isLoading:c=!1,onTransactionClick:d}){return c?(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-6 fade-in",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent Transactions"}),(0,b.jsx)("div",{className:"space-y-3",children:[1,2,3].map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-3 animate-pulse",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-gray-700/50 rounded-full"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"h-4 w-20 bg-gray-700/50 rounded mb-2"}),(0,b.jsx)("div",{className:"h-3 w-32 bg-gray-700/50 rounded"})]}),(0,b.jsx)("div",{className:"h-4 w-16 bg-gray-700/50 rounded"})]},a))})]}):(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-6 fade-in",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent Transactions"}),0===a.length?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)("svg",{className:"w-12 h-12 text-gray-600 mx-auto mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,b.jsx)("p",{className:"text-gray-500 text-sm",children:"No transactions yet"})]}):(0,b.jsx)("div",{className:"space-y-3 max-h-80 overflow-y-auto pr-2 custom-scrollbar",children:a.map(a=>{let c;return(0,b.jsxs)("button",{onClick:()=>d?.(a.id),className:" w-full flex items-center gap-3 p-3 rounded-xl bg-white/5 border border-white/10 transition-all duration-300 ease-out hover:bg-white/10 hover:border-white/20 hover:transform hover:scale-[1.02] active:scale-[0.98] ",children:[(a=>{switch(a){case"receive":return(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-emerald-500/20 border border-emerald-500/30 flex items-center justify-center",children:(0,b.jsx)("svg",{className:"w-5 h-5 text-emerald-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m0 0l-4-4m4 4l4-4"})})});case"send":return(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-500/20 border border-blue-500/30 flex items-center justify-center",children:(0,b.jsx)("svg",{className:"w-5 h-5 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})});case"pending":return(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-amber-500/20 border border-amber-500/30 flex items-center justify-center",children:(0,b.jsx)("svg",{className:"w-5 h-5 text-amber-400 animate-spin",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})}})(a.type),(0,b.jsxs)("div",{className:"flex-1 text-left",children:[(0,b.jsx)("div",{className:"font-semibold text-white capitalize",children:a.type}),(0,b.jsx)("div",{className:"text-sm text-gray-400",children:(c=a.address,`${c.slice(0,6)}...${c.slice(-4)}`)}),(0,b.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:a.timestamp})]}),(0,b.jsxs)("div",{className:`text-right font-semibold ${(a=>{switch(a){case"receive":return"text-emerald-400";case"send":return"text-blue-400";case"pending":return"text-amber-400"}})(a.type)}`,children:["receive"===a.type?"+":"-",a.amount," ",a.token]})]},a.id)})})]})}a.s(["AssetsCard",()=>f],76865),a.s(["TransactionsCard",()=>g],97180)}];

//# sourceMappingURL=src_e7e52ab3._.js.map