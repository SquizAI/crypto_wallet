module.exports=[55486,a=>{"use strict";a.s(["Badge",()=>e,"TransactionStatusBadge",()=>f]);var b=a.i(87924);let c={success:"bg-green-500/20 text-green-400 border-green-500/30",warning:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",error:"bg-red-500/20 text-red-400 border-red-500/30",info:"bg-blue-500/20 text-blue-400 border-blue-500/30",neutral:"bg-gray-500/20 text-gray-400 border-gray-500/30"},d={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm",lg:"px-3 py-1.5 text-base"};function e({variant:a="neutral",size:e="md",children:f,className:g=""}){return(0,b.jsx)("span",{className:`
        inline-flex items-center justify-center
        font-medium rounded-full border
        ${c[a]}
        ${d[e]}
        ${g}
      `,children:f})}function f({status:a,size:c="md",className:d=""}){return(0,b.jsx)(e,{variant:{pending:"warning",confirmed:"success",failed:"error"}[a],size:c,className:d,children:(0,b.jsxs)("span",{className:"flex items-center gap-1.5",children:["pending"===a&&(0,b.jsxs)("svg",{className:"animate-spin h-3 w-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"confirmed"===a&&(0,b.jsx)("svg",{className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"failed"===a&&(0,b.jsx)("svg",{className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),{pending:"Pending",confirmed:"Confirmed",failed:"Failed"}[a]]})})}},61518,a=>{"use strict";a.s(["Dropdown",()=>c]);var b=a.i(87924);let c=(0,a.i(72131).forwardRef)(({label:a,options:c,error:d,helperText:e,fullWidth:f=!1,placeholder:g,className:h="",id:i,...j},k)=>{let l=i||a?.toLowerCase().replace(/\s+/g,"-");return(0,b.jsxs)("div",{className:`${f?"w-full":""}`,children:[a&&(0,b.jsx)("label",{htmlFor:l,className:"block text-sm font-medium text-gray-300 mb-1",children:a}),(0,b.jsxs)("select",{ref:k,id:l,className:`
            w-full px-4 py-2
            border rounded-lg
            glass text-white
            transition-colors duration-200
            focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-offset-slate-900
            disabled:opacity-50 disabled:cursor-not-allowed
            appearance-none
            ${d?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-white/20 focus:ring-blue-400 focus:border-blue-400"}
            ${h}
          `,"aria-invalid":!!d,"aria-describedby":d?`${l}-error`:e?`${l}-helper`:void 0,style:{backgroundImage:"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e\")",backgroundPosition:"right 0.5rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.5em 1.5em",paddingRight:"2.5rem"},...j,children:[g&&(0,b.jsx)("option",{value:"",disabled:!0,children:g}),c.map(a=>(0,b.jsx)("option",{value:a.value,disabled:a.disabled,children:a.label},a.value))]}),d&&(0,b.jsx)("p",{id:`${l}-error`,className:"mt-1 text-sm text-red-600",role:"alert",children:d}),e&&!d&&(0,b.jsx)("p",{id:`${l}-helper`,className:"mt-1 text-sm text-gray-500",children:e})]})});c.displayName="Dropdown"},15720,a=>{"use strict";a.s(["BalanceCardSkeleton",()=>e,"Skeleton",()=>d,"TransactionItemSkeleton",()=>f]);var b=a.i(87924);let c={none:"",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",full:"rounded-full"};function d({width:a="100%",height:d="1rem",rounded:e="md",className:f=""}){let g={width:"number"==typeof a?`${a}px`:a,height:"number"==typeof d?`${d}px`:d};return(0,b.jsx)("div",{className:`bg-white/5 animate-pulse ${c[e]} ${f}`,style:g,"aria-hidden":"true"})}function e(){return(0,b.jsxs)("div",{className:"p-6 bg-white rounded-lg border border-gray-200",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)(d,{width:40,height:40,rounded:"full"}),(0,b.jsx)(d,{width:80,height:20})]}),(0,b.jsx)(d,{width:"60%",height:32,className:"mb-2"}),(0,b.jsx)(d,{width:"40%",height:16,className:"mb-4"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(d,{width:"48%",height:36,rounded:"lg"}),(0,b.jsx)(d,{width:"48%",height:36,rounded:"lg"})]})]})}function f(){return(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(d,{width:40,height:40,rounded:"full"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(d,{width:120,height:16}),(0,b.jsx)(d,{width:80,height:14})]})]}),(0,b.jsxs)("div",{className:"text-right space-y-2",children:[(0,b.jsx)(d,{width:100,height:16}),(0,b.jsx)(d,{width:60,height:14})]})]})}},15898,(a,b,c)=>{function d(a){return b.exports=d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},b.exports.__esModule=!0,b.exports.default=b.exports,d(a)}b.exports=d,b.exports.__esModule=!0,b.exports.default=b.exports},47490,a=>{"use strict";a.s(["getPendingTransactions",()=>p,"getStoredTransactionHistory",()=>l,"recheckPendingTransactions",()=>q,"trackTransaction",()=>o]);var b=a.i(47703),c=a.i(90036),d=a.i(66716),e=a.i(61826);let f=null;function g(){return f||(f=new b.JsonRpcProvider(c.env.NEXT_PUBLIC_RPC_URL)),f}let h=new Map;async function i(a,b=1,c=3e5){let e=g();try{let f=new Promise((b,e)=>{setTimeout(()=>{e(new d.TransactionError(`Transaction confirmation timeout after ${c}ms`,"TIMEOUT",a))},c)}),g=await Promise.race([e.waitForTransaction(a,b),f]);if(!g)throw new d.TransactionError("Transaction receipt not found","UNKNOWN_ERROR",a);if(0===g.status)throw new d.TransactionError("Transaction reverted","REVERTED",a);return g}catch(b){if(b instanceof d.TransactionError)throw b;throw new d.TransactionError(`Failed to wait for transaction: ${b instanceof Error?b.message:"Unknown error"}`,"NETWORK_ERROR",a,b)}}async function j(a){try{let b=g();return await b.getTransactionReceipt(a)}catch(b){throw new d.TransactionError(`Failed to fetch transaction receipt: ${b instanceof Error?b.message:"Unknown error"}`,"NETWORK_ERROR",a,b)}}async function k(a){try{(0,e.addTransaction)(a)}catch(b){throw new d.TransactionError(`Failed to save transaction: ${b instanceof Error?b.message:"Unknown error"}`,"UNKNOWN_ERROR",a.hash,b)}}function l(){return(0,e.getTransactionHistory)()}async function m(a,b,c){try{let d={status:b};if(c){d.blockNumber=c.blockNumber,d.gasUsed=c.gasUsed.toString(),d.gasPrice=c.gasPrice?.toString()||null;let a=g(),b=await a.getBlock(c.blockNumber);b&&(d.timestamp=new Date(1e3*b.timestamp).toISOString())}"failed"===b&&c?.status===0&&(d.error="Transaction reverted"),(0,e.updateTransaction)(a,d)}catch(b){throw new d.TransactionError(`Failed to update transaction status: ${b instanceof Error?b.message:"Unknown error"}`,"UNKNOWN_ERROR",a,b)}}async function n(a){let{hash:b,transaction:c,confirmations:e=1,onConfirmed:f,onFailed:g,onUpdate:k}=a,l=h.get(b);l&&clearInterval(l);let n=!0;(async()=>{try{k?.("pending");let a=await i(b,e);if(!n)return;await m(b,"confirmed",a),k?.("confirmed",a),f?.(a)}catch(c){if(!n)return;await m(b,"failed");let a=c instanceof d.TransactionError?c:new d.TransactionError(c instanceof Error?c.message:"Unknown error","UNKNOWN_ERROR",b);k?.("failed"),g?.(a)}finally{h.delete(b)}})();let o=setInterval(async()=>{if(!n)return void clearInterval(o);try{await j(b)&&clearInterval(o)}catch(a){console.error("Polling error:",a)}},5e3);return h.set(b,o),()=>{n=!1;let a=h.get(b);a&&(clearInterval(a),h.delete(b))}}async function o(a,b,c,d,e="send",f){let g=function(a,b,c,d,e="send"){return{hash:a.hash,from:a.from,to:a.to,value:a.value.toString(),tokenAddress:b,tokenSymbol:c,tokenDecimals:d,status:"pending",type:e,blockNumber:null,timestamp:null,gasUsed:null,gasPrice:a.gasPrice?.toString()||null,chainId:Number(a.chainId)}}(a,b,c,d,e);return await k(g),n({hash:a.hash,transaction:a,confirmations:1,onConfirmed:f?.onConfirmed,onFailed:f?.onFailed,onUpdate:f?.onUpdate})}function p(){return(0,e.getTransactionHistory)().filter(a=>"pending"===a.status)}async function q(){let a=p(),b=0;for(let c of a)try{let a=await j(c.hash);if(a){let d=1===a.status?"confirmed":"failed";await m(c.hash,d,a),b++}}catch(a){console.error(`Failed to recheck transaction ${c.hash}:`,a)}return b}},93292,a=>{"use strict";a.s(["useTransactionHistory",()=>g]);var b=a.i(33217),c=a.i(37927),d=a.i(72131),e=a.i(50832),f=a.i(47490);function g(a={}){let{address:h,isUnlocked:i}=(0,e.useWallet)(),j=(0,c.useQueryClient)(),{statusFilter:k,typeFilter:l,limit:m,enabled:n=!0,refetchInterval:o,queryOptions:p}=a;(0,d.useEffect)(()=>{i&&h&&(0,f.recheckPendingTransactions)().then(a=>{a>0&&(console.log(`Updated ${a} pending transactions`),j.invalidateQueries({queryKey:["transactions",h]}),j.invalidateQueries({queryKey:["balance",h]}),j.invalidateQueries({queryKey:["balances",h]}))}).catch(a=>{console.error("Failed to recheck pending transactions:",a)})},[i,h,j]);let q=(0,f.getPendingTransactions)().length>0;return(0,b.useQuery)({queryKey:["transactions",h,k,l,m],queryFn:async()=>{let a=(0,f.getStoredTransactionHistory)();return h&&(a=a.filter(a=>a.from.toLowerCase()===h.toLowerCase()||a.to?.toLowerCase()===h.toLowerCase())),k&&(a=a.filter(a=>a.status===k)),l&&(a=a.filter(a=>a.type===l)),a=a.sort((a,b)=>{if("pending"===a.status&&"pending"!==b.status)return -1;if("pending"===b.status&&"pending"!==a.status)return 1;let c=a.timestamp?new Date(a.timestamp).getTime():0;return(b.timestamp?new Date(b.timestamp).getTime():0)-c}),m&&(a=a.slice(0,m)),a},enabled:n&&i,refetchInterval:void 0!==o?o:!!q&&3e4,staleTime:1e4,gcTime:3e5,refetchOnWindowFocus:!0,...p})}},93042,a=>{a.v(b=>Promise.all(["server/chunks/ssr/node_modules_html2canvas_dist_html2canvas_esm_cd3010df.js"].map(b=>a.l(b))).then(()=>b(33926)))},47303,a=>{a.v(b=>Promise.all(["server/chunks/ssr/node_modules_dompurify_dist_purify_es_mjs_08294729._.js"].map(b=>a.l(b))).then(()=>b(37132)))},98523,a=>{a.v(b=>Promise.all(["server/chunks/ssr/node_modules_5380af91._.js"].map(b=>a.l(b))).then(()=>b(57058)))}];

//# sourceMappingURL=_c3bace29._.js.map