module.exports=[24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},96840,a=>{"use strict";a.s(["SendModal",()=>q]);var b=a.i(87924),c=a.i(72131),d=a.i(99959),e=a.i(50832),f=a.i(77423),g=a.i(89147),h=a.i(48313),i=a.i(96438),j=a.i(94988),k=a.i(78354),l=a.i(61518),m=a.i(31419);a.i(84948);var n=a.i(62111),o=a.i(77528),p=a.i(90036);function q({isOpen:a,onClose:q}){let{address:r}=(0,e.useWallet)(),[s,t]=(0,c.useState)("form"),[u,v]=(0,c.useState)("USDC"),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)(""),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)(!1),[G,H]=(0,c.useState)({}),{data:I,isLoading:J}=(0,f.useBalance)(u),{mutate:K,isPending:L,error:M}=(0,g.useSendTransaction)(),N=(0,o.getTokensForNetwork)(p.env.NEXT_PUBLIC_NETWORK).map(a=>({value:a.symbol,label:`${a.symbol} - ${a.name}`})),O=()=>{t("form"),x(""),z(""),B(""),H({}),D(""),F(!1),q()};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(h.Modal,{isOpen:a,onClose:"sending"===s?()=>{}:O,title:"form"===s?"Send Transaction":"confirm"===s?"Confirm Transaction":"password"===s?"Enter Password":"",closeOnBackdropClick:"sending"!==s,showCloseButton:"sending"!==s,children:["form"===s&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Token"}),(0,b.jsx)(l.Dropdown,{options:N,value:u,onChange:a=>v(a.target.value)}),I&&(0,b.jsxs)("p",{className:"mt-2 text-sm text-gray-400",children:["Available: ",I.balanceFormatted," ",u]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Recipient Address"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(j.Input,{value:w,onChange:a=>{x(a.target.value),H({...G,recipient:void 0})},placeholder:"0x...",error:G.recipient,className:"flex-1"}),(0,b.jsx)(i.Button,{variant:"secondary",onClick:()=>F(!0),className:"shrink-0 px-3",title:"Scan QR Code",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Amount"}),(0,b.jsx)(j.Input,{type:"number",step:"0.000001",min:"0",value:y,onChange:a=>{z(a.target.value),H({...G,amount:void 0})},placeholder:"0.00",error:G.amount}),I&&y&&(0,b.jsx)("button",{onClick:()=>z(I.balanceFormatted),className:"mt-2 text-sm text-blue-400 hover:text-blue-300",children:"Use Max"})]})]}),(0,b.jsxs)(h.ModalFooter,{children:[(0,b.jsx)(i.Button,{variant:"secondary",onClick:O,children:"Cancel"}),(0,b.jsx)(i.Button,{onClick:()=>{(()=>{let a={};return w?(0,d.isAddress)(w)?w.toLowerCase()===r?.toLowerCase()&&(a.recipient="Cannot send to your own address"):a.recipient="Invalid Ethereum address":a.recipient="Recipient address is required",!y||0>=parseFloat(y)?a.amount="Amount must be greater than 0":I&&parseFloat(y)>parseFloat(I.balanceFormatted)&&(a.amount=`Insufficient ${u} balance`),H(a),0===Object.keys(a).length})()&&t("confirm")},disabled:J,children:"Continue"})]})]}),"confirm"===s&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(m.Alert,{variant:"info",children:"Please review the transaction details carefully before confirming."}),(0,b.jsxs)("div",{className:"glass-card p-4 space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Token:"}),(0,b.jsx)("span",{className:"text-white font-medium",children:u})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Amount:"}),(0,b.jsxs)("span",{className:"text-white font-medium",children:[y," ",u]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"To:"}),(0,b.jsxs)("span",{className:"text-white font-mono text-sm",children:[w.slice(0,10),"...",w.slice(-8)]})]})]})]}),(0,b.jsxs)(h.ModalFooter,{children:[(0,b.jsx)(i.Button,{variant:"secondary",onClick:()=>t("form"),children:"Back"}),(0,b.jsx)(i.Button,{onClick:()=>{t("password")},children:"Confirm"})]})]}),"password"===s&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(m.Alert,{variant:"warning",children:"Enter your wallet password to sign and send this transaction."}),(0,b.jsx)(k.PasswordInput,{value:A,onChange:a=>{B(a.target.value),H({...G,password:void 0})},placeholder:"Wallet password",error:G.password,autoFocus:!0})]}),(0,b.jsxs)(h.ModalFooter,{children:[(0,b.jsx)(i.Button,{variant:"secondary",onClick:()=>t("confirm"),children:"Back"}),(0,b.jsx)(i.Button,{onClick:()=>{if(!A)return void H({...G,password:"Password is required"});t("sending"),K({tokenSymbol:u,recipient:w,amount:y,password:A},{onSuccess:a=>{D(a.hash),t("success"),setTimeout(()=>{O()},3e3)},onError:a=>{console.error("Send error:",a),t("error")}})},disabled:!A,children:"Send Transaction"})]})]}),"sending"===s&&(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-500/20 mb-4",children:(0,b.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full"})}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"Sending Transaction"}),(0,b.jsx)("p",{className:"text-gray-400",children:"Please wait while we process your transaction..."})]}),"success"===s&&(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-500/20 mb-4",children:(0,b.jsx)("svg",{className:"w-8 h-8 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"Transaction Sent!"}),(0,b.jsx)("p",{className:"text-gray-400 mb-4",children:"Your transaction has been broadcast to the network"}),C&&(0,b.jsx)("p",{className:"text-sm text-gray-500 font-mono break-all",children:C})]}),"error"===s&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.Alert,{variant:"error",children:M?.message||"Failed to send transaction. Please try again."}),(0,b.jsxs)(h.ModalFooter,{children:[(0,b.jsx)(i.Button,{variant:"secondary",onClick:O,children:"Close"}),(0,b.jsx)(i.Button,{onClick:()=>t("form"),children:"Try Again"})]})]})]}),(0,b.jsx)(n.QRScanner,{isOpen:E,onClose:()=>F(!1),onScan:a=>{x(a),H({...G,recipient:void 0}),F(!1)},title:"Scan Recipient Address"})]})}},54320,a=>{"use strict";a.s(["default",()=>e]);var b=a.i(87924),c=a.i(50944),d=a.i(96840);function e(){let a=(0,c.useRouter)();return(0,b.jsx)("div",{className:"min-h-screen",children:(0,b.jsx)(d.SendModal,{isOpen:!0,onClose:()=>a.push("/")})})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__cdfa6812._.js.map