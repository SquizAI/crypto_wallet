(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,30257,e=>{"use strict";e.s(["default",()=>U],30257);var s=e.i(43476),t=e.i(71645);e.i(8626),e.i(24098),e.i(87205),e.i(79297);var a=e.i(79735);e.i(16787);var r=e.i(59544),n=e.i(75157);function l(e){let{children:l,activeTab:i="wallet",onTabChange:d,className:c=""}=e,{address:m,lock:x}=(0,a.useWallet)(),[h,u]=(0,t.useState)(!1),j=async()=>{if(m)try{await (0,n.copyToClipboard)(m),u(!0),setTimeout(()=>u(!1),2e3)}catch(e){console.error("Failed to copy address:",e)}},g=e=>{d&&d(e)};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 ".concat(c),children:[(0,s.jsx)("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),(0,s.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Stablecoin Wallet"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[m&&(0,s.jsxs)("button",{onClick:j,className:" hidden sm:flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors ","aria-label":"Copy wallet address",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700",children:(0,n.truncateAddress)(m)}),h?(0,s.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):(0,s.jsx)("svg",{className:"w-4 h-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})]}),(0,s.jsx)(r.Button,{variant:"ghost",size:"sm",onClick:()=>{confirm("Are you sure you want to lock your wallet?")&&x()},"aria-label":"Lock wallet",children:(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Lock"})]})})]})]}),(0,s.jsxs)("nav",{className:"flex gap-1 -mb-px",role:"tablist",children:[(0,s.jsx)(o,{active:"wallet"===i,onClick:()=>g("wallet"),icon:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),children:"Wallet"}),(0,s.jsx)(o,{active:"transactions"===i,onClick:()=>g("transactions"),icon:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),children:"Transactions"}),(0,s.jsx)(o,{active:"settings"===i,onClick:()=>g("settings"),icon:(0,s.jsxs)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),children:"Settings"})]})]})}),(0,s.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l})]})}function o(e){let{active:t,onClick:a,icon:r,children:n}=e;return(0,s.jsxs)("button",{role:"tab","aria-selected":t,onClick:a,className:"\n        flex items-center gap-2 px-4 py-3\n        border-b-2 font-medium text-sm\n        transition-colors\n        ".concat(t?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","\n      "),children:[r,(0,s.jsx)("span",{className:"hidden sm:inline",children:n})]})}let i={USDC:{bg:"bg-blue-100",text:"text-blue-600",border:"border-blue-200"},USDT:{bg:"bg-green-100",text:"text-green-600",border:"border-green-200"},DAI:{bg:"bg-yellow-100",text:"text-yellow-600",border:"border-yellow-200"}};function d(e){let{tokenSymbol:t,balance:a,usdValue:l,isLoading:o=!1,onSend:d,onReceive:c,className:m=""}=e,x=i[t];return o?(0,s.jsx)("div",{className:"p-6 bg-white rounded-lg border border-gray-200 ".concat(m),children:(0,s.jsxs)("div",{className:"animate-pulse",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full ".concat(x.bg)}),(0,s.jsx)("div",{className:"h-5 bg-gray-200 rounded w-20"})]}),(0,s.jsx)("div",{className:"h-8 bg-gray-200 rounded w-32 mb-2"}),(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-24 mb-4"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("div",{className:"h-9 bg-gray-200 rounded flex-1"}),(0,s.jsx)("div",{className:"h-9 bg-gray-200 rounded flex-1"})]})]})}):(0,s.jsxs)("div",{className:"\n        p-6 bg-white rounded-lg border-2 transition-all duration-200\n        hover:shadow-md hover:border-gray-300\n        ".concat(x.border,"\n        ").concat(m,"\n      "),children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:"\n            w-10 h-10 rounded-full flex items-center justify-center\n            font-semibold text-sm\n            ".concat(x.bg," ").concat(x.text,"\n          "),"aria-hidden":"true",children:t[0]}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:t})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:(0,n.formatAmount)(a,2)}),l&&(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["â‰ˆ $",(0,n.formatAmount)(l,2)]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(r.Button,{variant:"primary",size:"sm",onClick:d,fullWidth:!0,"aria-label":"Send ".concat(t),children:(0,s.jsxs)("span",{className:"flex items-center justify-center gap-1.5",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),"Send"]})}),(0,s.jsx)(r.Button,{variant:"secondary",size:"sm",onClick:c,fullWidth:!0,"aria-label":"Receive ".concat(t),children:(0,s.jsxs)("span",{className:"flex items-center justify-center gap-1.5",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})}),"Receive"]})})]})]})}var c=e.i(77279),m=e.i(52412),x=e.i(53145),h=e.i(94814),u=e.i(81307),j=e.i(32098),g=e.i(3812),b=e.i(51346),p=e.i(72813),v=e.i(61418),f=e.i(63174),y=e.i(31368),N=e.i(90623);function k(e){let{isOpen:a,onClose:n,onSelect:l,network:o}=e,[i,d]=(0,t.useState)(""),c=(0,N.getAddresses)(),m=(0,t.useMemo)(()=>c.filter(e=>{let s=e.label.toLowerCase().includes(i.toLowerCase())||e.address.toLowerCase().includes(i.toLowerCase()),t=!o||e.network===o;return s&&t}),[c,i,o]);return(0,s.jsx)(j.Modal,{isOpen:a,onClose:n,title:"Select from Address Book",size:"md",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(g.Input,{type:"text",placeholder:"Search by label or address...",value:i,onChange:e=>d(e.target.value),fullWidth:!0}),(0,s.jsx)("div",{className:"max-h-96 overflow-y-auto space-y-2",children:0===m.length?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("svg",{className:"w-12 h-12 mx-auto mb-3 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),(0,s.jsx)("p",{className:"text-gray-400",children:i?"No addresses found":"No saved addresses yet"})]}):m.map(e=>(0,s.jsx)("button",{onClick:()=>{l(e.address,e.label),n(),d("")},className:"w-full glass rounded-lg p-4 hover:bg-white/10 transition-all text-left",children:(0,s.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-white truncate",children:e.label}),(0,s.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-medium shrink-0 ".concat("mainnet"===e.network?"bg-green-500/20 text-green-400":"bg-blue-500/20 text-blue-400"),children:e.network})]}),(0,s.jsx)("p",{className:"text-xs font-mono text-gray-400 truncate",children:e.address}),e.notes&&(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1 line-clamp-1",children:e.notes})]}),(0,s.jsx)("svg",{className:"w-5 h-5 text-gray-400 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},e.id))}),(0,s.jsx)(j.ModalFooter,{children:(0,s.jsx)(r.Button,{type:"button",variant:"secondary",onClick:n,fullWidth:!0,children:"Cancel"})})]})})}let w=u.z.object({tokenSymbol:u.z.enum(["USDC","USDT","DAI"]).optional(),recipient:u.z.string().min(1,"Recipient address is required").refine(e=>(0,n.isValidAddress)(e),"Invalid Ethereum address"),amount:u.z.string().min(1,"Amount is required").refine(e=>!isNaN(parseFloat(e))&&parseFloat(e)>0,"Amount must be greater than 0"),password:u.z.string().min(1,"Password is required to sign transaction")});function C(e){var l,o,i,d;let{isOpen:m,onClose:u,defaultToken:N="USDC"}=e,{address:C}=(0,a.useWallet)(),[S,L]=(0,t.useState)(null),[B,W]=(0,t.useState)(!1),[M,T]=(0,t.useState)(!1),{register:A,handleSubmit:z,watch:F,setValue:H,reset:V,formState:{errors:I}}=(0,x.useForm)({resolver:(0,h.zodResolver)(w),defaultValues:{tokenSymbol:N,recipient:"",amount:"",password:""}}),R=F("tokenSymbol"),U=F("amount"),D=F("recipient"),{data:E}=(0,c.useBalance)(R||"USDC"),{mutate:O,isPending:P,error:Y}=(0,f.useSendTransaction)();(0,t.useEffect)(()=>{m&&(V({tokenSymbol:N||"USDC",recipient:"",amount:"",password:""}),L(null),W(!1))},[m,N,V]);let G=()=>{P||u()},$=parseFloat(U||"0")>parseFloat((null==E?void 0:E.balanceFormatted)||"0");return B&&S?(0,s.jsxs)(j.Modal,{isOpen:m,onClose:G,title:"Transaction Sent",children:[(0,s.jsxs)("div",{className:"text-center py-6",children:[(0,s.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:(0,s.jsx)("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Transaction Submitted"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Your transaction has been submitted to the network."}),(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Transaction Hash"}),(0,s.jsx)("p",{className:"text-sm font-mono text-gray-900 break-all",children:S})]}),(0,s.jsx)(v.Alert,{variant:"info",className:"text-left text-sm",children:"Your transaction is being processed. You can track its status in the Transactions tab."})]}),(0,s.jsx)(j.ModalFooter,{children:(0,s.jsx)(r.Button,{onClick:G,variant:"primary",fullWidth:!0,children:"Done"})})]}):(0,s.jsxs)(j.Modal,{isOpen:m,onClose:G,title:"Send Transaction",closeOnBackdropClick:!P,children:[(0,s.jsxs)("form",{onSubmit:z(e=>{O({tokenSymbol:e.tokenSymbol||"USDC",recipient:e.recipient,amount:e.amount,password:e.password},{onSuccess:e=>{L(e.hash),W(!0)},onError:e=>{console.error("Send transaction failed:",e)}})}),className:"space-y-4",children:[Y&&(0,s.jsx)(v.Alert,{variant:"error",children:Y.message}),(0,s.jsx)(b.Dropdown,{label:"Token",options:(0,y.getAllTokenSymbols)().map(e=>({label:e,value:e})),...A("tokenSymbol"),error:null==(l=I.tokenSymbol)?void 0:l.message,fullWidth:!0}),E&&(0,s.jsx)("div",{className:"bg-blue-50 p-3 rounded-lg",children:(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Available Balance:"," ",(0,s.jsxs)("span",{className:"font-semibold text-gray-900",children:[(0,n.formatAmount)(E.balanceFormatted,2)," ",R]})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recipient Address"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(g.Input,{placeholder:"0x...",...A("recipient"),error:null==(o=I.recipient)?void 0:o.message,fullWidth:!0}),(0,s.jsx)(r.Button,{type:"button",variant:"secondary",size:"md",onClick:()=>T(!0),title:"Select from Address Book",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(g.Input,{type:"number",step:"0.01",placeholder:"0.00",...A("amount"),error:(null==(i=I.amount)?void 0:i.message)||($?"Insufficient balance":void 0),fullWidth:!0}),(0,s.jsx)(r.Button,{type:"button",variant:"secondary",size:"md",onClick:()=>{E&&H("amount",E.balanceFormatted)},disabled:!E,children:"Max"})]})]}),U&&D&&(0,n.isValidAddress)(D)&&(0,s.jsx)("div",{className:"bg-gray-50 p-3 rounded-lg",children:(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Estimated Gas:"," ",(0,s.jsx)("span",{className:"font-semibold text-gray-900",children:"~$0.50 - $2.00"})]})}),(0,s.jsx)(p.PasswordInput,{label:"Password",placeholder:"Enter your wallet password",...A("password"),error:null==(d=I.password)?void 0:d.message,fullWidth:!0}),(0,s.jsx)(v.Alert,{variant:"info",className:"text-sm",children:"Double-check the recipient address. Transactions cannot be reversed."}),(0,s.jsxs)(j.ModalFooter,{children:[(0,s.jsx)(r.Button,{type:"button",variant:"secondary",onClick:G,disabled:P,children:"Cancel"}),(0,s.jsx)(r.Button,{type:"submit",variant:"primary",isLoading:P,disabled:P||$,children:P?"Sending...":"Send"})]})]}),(0,s.jsx)(k,{isOpen:M,onClose:()=>T(!1),onSelect:(e,s)=>{H("recipient",e),T(!1)},network:"sepolia"})]})}var S=e.i(57688),L=e.i(73134);function B(e){let{isOpen:l,onClose:o,tokenSymbol:i}=e,{address:d}=(0,a.useWallet)(),[c,m]=(0,t.useState)(""),[x,h]=(0,t.useState)(!1);(0,t.useEffect)(()=>{l&&d&&L.default.toDataURL(d,{width:256,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}).then(e=>m(e)).catch(e=>console.error("Failed to generate QR code:",e))},[l,d]),(0,t.useEffect)(()=>{l||h(!1)},[l]);let u=async()=>{if(d)try{await (0,n.copyToClipboard)(d),h(!0),setTimeout(()=>h(!1),2e3)}catch(e){console.error("Failed to copy address:",e)}};return d?(0,s.jsx)(j.Modal,{isOpen:l,onClose:o,title:i?"Receive ".concat(i):"Receive Tokens",size:"md",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(v.Alert,{variant:"info",className:"text-sm",children:["Scan the QR code or copy your wallet address to receive ",i||"tokens","."]}),(0,s.jsx)("div",{className:"flex justify-center",children:c?(0,s.jsx)("div",{className:"p-4 bg-white border-2 border-gray-200 rounded-lg",children:(0,s.jsx)(S.default,{src:c,alt:"Wallet address QR code",width:256,height:256,className:"w-64 h-64",unoptimized:!0})}):(0,s.jsx)("div",{className:"w-64 h-64 bg-gray-100 rounded-lg animate-pulse flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Wallet Address"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"flex-1 px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg",children:(0,s.jsx)("p",{className:"text-sm font-mono text-gray-900 break-all",children:d})}),(0,s.jsx)(r.Button,{variant:"secondary",size:"md",onClick:u,"aria-label":"Copy address",className:"flex-shrink-0",children:x?(0,s.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied"]}):(0,s.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy"]})})]})]}),(0,s.jsxs)(v.Alert,{variant:"warning",className:"text-sm",children:[(0,s.jsx)("strong",{children:"Important:"})," Only send ",i||"tokens"," on the Ethereum network to this address. Sending from other networks may result in loss of funds."]}),(0,s.jsx)("div",{className:"pt-2",children:(0,s.jsx)(r.Button,{onClick:o,variant:"primary",fullWidth:!0,children:"Done"})})]})}):null}var W=e.i(88442),M=e.i(71185);function T(e){let{className:l=""}=e,{isUnlocked:o}=(0,a.useWallet)(),{networkConfig:i}=(0,m.useNetwork)(),[x,h]=(0,t.useState)(null),[u,j]=(0,t.useState)(!1),[g,b]=(0,t.useState)(!1),{data:p,isLoading:f,error:N,refetch:k}=(0,c.useBalance)({refetchInterval:3e4}),w=(null==p?void 0:p.reduce((e,s)=>e+parseFloat(s.balanceFormatted||"0"),0))||0;return o?N?(0,s.jsxs)("div",{className:l,children:[(0,s.jsxs)(v.Alert,{variant:"error",className:"mb-4",children:["Failed to load balances: ",N.message]}),(0,s.jsx)(r.Button,{onClick:()=>k(),variant:"primary",children:"Retry"})]}):(0,s.jsxs)("div",{className:l,children:[(0,s.jsxs)("div",{className:"mb-6 p-6 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-100",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Portfolio Value"}),f?(0,s.jsx)("div",{className:"h-10 w-40 bg-gray-200 rounded animate-pulse"}):(0,s.jsxs)("p",{className:"text-4xl font-bold text-gray-900",children:["$",(0,n.formatAmount)(w,2)]})]}),(0,s.jsx)(M.NetworkIndicator,{})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("div",{className:"px-3 py-1.5 rounded-lg text-xs font-medium",style:{backgroundColor:"".concat(i.color,"15"),color:i.color},children:["Network: ",i.name]}),(0,s.jsx)(r.Button,{variant:"ghost",size:"sm",onClick:()=>k(),disabled:f,"aria-label":"Refresh balances",children:(0,s.jsx)("svg",{className:"w-5 h-5 ".concat(f?"animate-spin":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f?(0,y.getAllTokenSymbols)().map(e=>(0,s.jsx)(W.BalanceCardSkeleton,{},e)):p&&p.length>0?p.map(e=>(0,s.jsx)(d,{tokenSymbol:e.symbol,balance:e.balanceFormatted,usdValue:e.balanceFormatted,onSend:()=>{h(e.symbol),j(!0)},onReceive:()=>{h(e.symbol),b(!0)}},e.symbol)):(0,s.jsxs)("div",{className:"col-span-full p-8 text-center bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[(0,s.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No balances found"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Your wallet doesn't have any tokens yet."})]})}),x&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(C,{isOpen:u,onClose:()=>{j(!1),h(null)},defaultToken:x}),(0,s.jsx)(B,{isOpen:g,onClose:()=>{b(!1),h(null)},tokenSymbol:x})]})]}):(0,s.jsx)(v.Alert,{variant:"warning",className:l,children:"Please unlock your wallet to view balances."})}var A=e.i(72392),z=e.i(96640),F=e.i(47015);function H(e){let{isOpen:a,onClose:l,transaction:o}=e,[i,d]=(0,t.useState)(null),c=async(e,s)=>{try{await (0,n.copyToClipboard)(e),d(s),setTimeout(()=>d(null),2e3)}catch(e){console.error("Failed to copy:",e)}},m=F.env.NEXT_PUBLIC_NETWORK,x=(0,n.getExplorerUrl)(o.hash,m),h=o.gasUsed&&o.gasPrice?BigInt(o.gasUsed)*BigInt(o.gasPrice)/BigInt(1e18):null;return(0,s.jsx)(j.Modal,{isOpen:a,onClose:l,title:"Transaction Details",size:"lg",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Status"}),(0,s.jsx)(z.TransactionStatusBadge,{status:o.status})]}),(0,s.jsx)(V,{label:"Transaction Hash",value:o.hash,onCopy:()=>c(o.hash,"hash"),isCopied:"hash"===i,mono:!0}),(0,s.jsx)(V,{label:"From",value:o.from,onCopy:()=>c(o.from,"from"),isCopied:"from"===i,mono:!0}),o.to&&(0,s.jsx)(V,{label:"To",value:o.to,onCopy:()=>c(o.to,"to"),isCopied:"to"===i,mono:!0}),(0,s.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Amount"}),(0,s.jsxs)("span",{className:"text-sm font-semibold text-gray-900",children:[(0,n.formatAmount)(o.value,2)," ",o.tokenSymbol]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Token"}),(0,s.jsx)("span",{className:"text-sm text-gray-900",children:o.tokenSymbol})]}),o.blockNumber&&(0,s.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Block Number"}),(0,s.jsx)("span",{className:"text-sm text-gray-900",children:o.blockNumber})]}),o.timestamp&&(0,s.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Timestamp"}),(0,s.jsx)("span",{className:"text-sm text-gray-900",children:(0,n.formatFullDate)(o.timestamp)})]}),o.gasUsed&&(0,s.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Gas Used"}),(0,s.jsx)("span",{className:"text-sm text-gray-900",children:parseInt(o.gasUsed).toLocaleString()})]}),o.gasPrice&&(0,s.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Gas Price"}),(0,s.jsxs)("span",{className:"text-sm text-gray-900",children:[(Number(o.gasPrice)/1e9).toFixed(2)," Gwei"]})]}),null!==h&&(0,s.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Gas Cost"}),(0,s.jsxs)("span",{className:"text-sm text-gray-900",children:[Number(h).toFixed(6)," ETH"]})]}),o.error&&(0,s.jsxs)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-red-800 mb-1",children:"Error"}),(0,s.jsx)("p",{className:"text-sm text-red-600",children:o.error})]}),(0,s.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,s.jsx)(r.Button,{variant:"secondary",fullWidth:!0,onClick:()=>window.open(x,"_blank"),children:(0,s.jsxs)("span",{className:"flex items-center justify-center gap-2",children:["View on Explorer",(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})}),(0,s.jsx)(r.Button,{variant:"primary",fullWidth:!0,onClick:l,children:"Close"})]})]})})}function V(e){let{label:t,value:a,onCopy:r,isCopied:n,mono:l}=e;return(0,s.jsx)("div",{className:"py-3 border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-600 flex-shrink-0",children:t}),(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0 justify-end",children:[(0,s.jsx)("span",{className:"\n              text-sm text-gray-900 break-all text-right\n              ".concat(l?"font-mono":"","\n            "),children:a}),r&&(0,s.jsx)("button",{onClick:r,className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Copy ".concat(t.toLowerCase()),children:n?(0,s.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]})})}function I(e){let{pageSize:a=10,className:l=""}=e,[o,i]=(0,t.useState)(1),[d,c]=(0,t.useState)(null),{data:m,isLoading:x,error:h}=(0,A.useTransactionHistory)({refetchInterval:3e4}),u=(null==m?void 0:m.slice(0,o*a))||[],j=((null==m?void 0:m.length)||0)>u.length;return h?(0,s.jsxs)(v.Alert,{variant:"error",className:l,children:["Failed to load transactions: ",h.message]}):x?(0,s.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 ".concat(l),children:Array.from({length:5}).map((e,t)=>(0,s.jsx)(W.TransactionItemSkeleton,{},t))}):u&&0!==u.length?(0,s.jsxs)("div",{className:l,children:[(0,s.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:u.map((e,t)=>{let a="send"===e.type,r=parseFloat(e.value),l=t===u.length-1;return(0,s.jsxs)("button",{onClick:()=>{c(e)},className:"\n                w-full flex items-center justify-between p-4\n                hover:bg-gray-50 transition-colors text-left\n                ".concat(l?"":"border-b border-gray-200","\n              "),children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,s.jsx)("div",{className:"\n                    flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center\n                    ".concat(a?"bg-red-100":"bg-green-100","\n                  "),"aria-hidden":"true",children:a?(0,s.jsx)("svg",{className:"w-5 h-5 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})}):(0,s.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[a?"Sent":"Received"," ",e.tokenSymbol]}),(0,s.jsx)(z.TransactionStatusBadge,{status:e.status,size:"sm"})]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 truncate",children:[a?"To: ":"From: ",(0,n.truncateAddress)(a?e.to||"":e.from)]}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-0.5",children:(0,n.formatTimestamp)(e.timestamp)})]})]}),(0,s.jsxs)("div",{className:"text-right ml-4 flex-shrink-0",children:[(0,s.jsxs)("p",{className:"\n                    text-base font-semibold\n                    ".concat(a?"text-red-600":"text-green-600","\n                  "),children:[a?"-":"+",(0,n.formatAmount)(r,2)," ",e.tokenSymbol]}),"confirmed"===e.status&&e.blockNumber&&(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Block ",e.blockNumber]})]})]},e.hash)})}),j&&(0,s.jsx)("div",{className:"mt-4 text-center",children:(0,s.jsx)(r.Button,{variant:"secondary",onClick:()=>{i(e=>e+1)},children:"Load More"})}),d&&(0,s.jsx)(H,{isOpen:!!d,onClose:()=>{c(null)},transaction:d})]}):(0,s.jsxs)("div",{className:"bg-white rounded-lg border-2 border-dashed border-gray-300 p-12 text-center ".concat(l),children:[(0,s.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No transactions yet"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Your transaction history will appear here."})]})}var R=e.i(18566);function U(){let e=(0,R.useRouter)(),{isUnlocked:r,address:n}=(0,a.useWallet)(),[o,i]=(0,t.useState)("wallet");return r&&n?(0,s.jsxs)(l,{activeTab:o,onTabChange:i,children:["wallet"===o&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Your Wallet"}),(0,s.jsx)(T,{})]}),"transactions"===o&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Transaction History"}),(0,s.jsx)(I,{})]}),"settings"===o&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Settings"}),(0,s.jsxs)("div",{className:"glass-card rounded-lg border border-white/10 p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Wallet Information"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Wallet Address"}),(0,s.jsx)("div",{className:"px-4 py-2 bg-white/5 border border-white/10 rounded-lg",children:(0,s.jsx)("p",{className:"text-sm font-mono text-white break-all",children:n})})]}),(0,s.jsx)(v.Alert,{variant:"info",className:"text-sm",children:"More settings coming soon..."})]})]})]})]}):(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)("div",{className:"max-w-md w-full p-6",children:[(0,s.jsx)(v.Alert,{variant:"warning",className:"mb-4",children:"Please unlock your wallet to access the dashboard."}),(0,s.jsx)("button",{onClick:()=>e.push("/onboarding"),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Go to Unlock"})]})})}}]);